<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.zw.admin.server.dao.UserTrajectoryDao">

	<sql id="where">
		<where>
			<if test="params.id != null and params.id != ''">
				and id = #{params.id} 
			</if>
			<if test="params.trajectoryid != null and params.trajectoryid != ''">
				and trajectoryid = #{params.trajectoryid} 
			</if>
			<if test="params.creatorid != null and params.creatorid != ''">
				and creatorid = #{params.creatorid} 
			</if>
			<if test="params.modifyid != null and params.modifyid != ''">
				and modifyid = #{params.modifyid} 
			</if>
			<if test="params.name != null and params.name != ''">
				and name = #{params.name} 
			</if>
			<if test="params.machinetype != null and params.machinetype != ''">
				and machinetype = #{params.machinetype} 
			</if>
			<if test="params.image != null and params.image != ''">
				and image = #{params.image} 
			</if>
			<if test="params.weight != null and params.weight != ''">
				and weight = #{params.weight} 
			</if>
			<if test="params.height != null and params.height != ''">
				and height = #{params.height} 
			</if>
			<if test="params.point != null and params.point != ''">
				and point = #{params.point} 
			</if>
			<if test="params.createdate != null and params.createdate != ''">
				and createdate = #{params.createdate} 
			</if>
			<if test="params.updatedate != null and params.updatedate != ''">
				and updatedate = #{params.updatedate} 
			</if>
		
		</where>
	</sql>

	<select id="count" resultType="int">
		select count(1) from user_trajectory t
		<include refid="where" />
	</select>

	<select id="list" resultType="UserTrajectory">
		select * from user_trajectory t
		<include refid="where" />
		${params.orderBy}
		limit #{offset}, #{limit}
	</select>
	
	<select id="apiList" resultType="UserTrajectory">
		select * from user_trajectory t
		<include refid="where" />
	</select>

	<update id="update">
		update user_trajectory t
		<set>
			<if test="trajectoryid != null">
				trajectoryid = #{trajectoryid}, 
			</if>
			<if test="creatorid != null">
				creatorid = #{creatorid}, 
			</if>
			<if test="modifyid != null">
				modifyid = #{modifyid}, 
			</if>
			<if test="name != null">
				name = #{name}, 
			</if>
			<if test="machinetype != null">
				machinetype = #{machinetype}, 
			</if>
			<if test="image != null">
				image = #{image}, 
			</if>
			<if test="weight != null">
				weight = #{weight}, 
			</if>
			<if test="height != null">
				height = #{height}, 
			</if>
			<if test="point != null">
				point = #{point}, 
			</if>
			<if test="createdate != null">
				createdate = #{createdate}, 
			</if>
			<if test="updatedate != null">
				updatedate = #{updatedate}, 
			</if>

		</set>

		where t.trajectoryid = #{trajectoryid}
	</update>

</mapper>
